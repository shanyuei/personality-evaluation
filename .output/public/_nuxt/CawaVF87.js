import{a as B}from"./DGetg0N5.js";import{d as _,c as v,a8 as w,H as F,I as S,A as m,o as p,B as g,h as A,y as c,ah as E,U as k,P as V,b7 as $,x as C,a9 as b,aa as H,f as I,j as K,F as h,i as T}from"./vQvnemwP.js";import{i as j,g as R,w as P,f as O}from"./oANUiFpK.js";var M=_({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(f){const e=f,r=j(),d=B(),a=v(()=>e.tabStopId||d),n=v(()=>r.currentTabStopId.value===a.value),{getItems:s,CollectionItem:o}=w();F(()=>{e.focusable&&r.onFocusableItemAdd()}),S(()=>{e.focusable&&r.onFocusableItemRemove()});function y(t){if(t.key==="Tab"&&t.shiftKey){r.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const u=R(t,r.orientation.value,r.dir.value);if(u!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!e.allowShiftKey&&t.shiftKey)return;t.preventDefault();let l=[...s().map(i=>i.ref).filter(i=>i.dataset.disabled!=="")];if(u==="last")l.reverse();else if(u==="prev"||u==="next"){u==="prev"&&l.reverse();const i=l.indexOf(t.currentTarget);l=r.loop.value?P(l,i+1):l.slice(i+1)}V(()=>O(l))}}return(t,u)=>(p(),m(c(o),null,{default:g(()=>[A(c(E),{tabindex:n.value?0:-1,"data-orientation":c(r).orientation.value,"data-active":t.active?"":void 0,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:u[0]||(u[0]=l=>{t.focusable?c(r).onItemFocus(a.value):l.preventDefault()}),onFocus:u[1]||(u[1]=l=>c(r).onItemFocus(a.value)),onKeydown:y},{default:g(()=>[k(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),G=M,D=_({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(f){const e=f,{primitiveElement:r,currentElement:d}=$(),a=v(()=>e.checked??e.value);return C(a,(n,s)=>{if(!d.value)return;const o=d.value,y=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(y,"value").set;if(u&&n!==s){const l=new Event("input",{bubbles:!0}),i=new Event("change",{bubbles:!0});u.call(o,n),o.dispatchEvent(l),o.dispatchEvent(i)}}),(n,s)=>(p(),m(H,b({ref_key:"primitiveElement",ref:r},{...e,...n.$attrs},{as:"input"}),null,16))}}),q=D,N=_({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(f){const e=f,r=v(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),d=v(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((a,n)=>typeof a=="object"?Object.entries(a).map(([s,o])=>({name:`${e.name}[${n}][${s}]`,value:o})):{name:`${e.name}[${n}]`,value:a}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([a,n])=>({name:`${e.name}[${a}]`,value:n})):[]);return(a,n)=>(p(),I(h,null,[K(" We render single input if it's required "),r.value?(p(),m(q,b({key:a.name},{...e,...a.$attrs},{name:a.name,value:a.value}),null,16,["name","value"])):(p(!0),I(h,{key:1},T(d.value,s=>(p(),m(q,b({key:s.name},{ref_for:!0},{...e,...a.$attrs},{name:s.name,value:s.value}),null,16,["name","value"]))),128))],2112))}}),W=N;export{G as R,W as V};
