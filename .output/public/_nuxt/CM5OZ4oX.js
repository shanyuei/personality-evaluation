import{aF as $}from"./DYacvIsm.js";import{a as u,b as y}from"./Df06nK3D.js";const m=t=>{const{strapiUrl:e}=$().public,r=(e||"").replace(/\/$/,"");if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;const c=t.startsWith("/")?t:`/${t}`;return`${r}${c}`},A=(t,e="date")=>{if(!t)return"";const r=typeof t=="string"?new Date(t):t;if(isNaN(r.getTime()))return"";const s=Math.floor((new Date().getTime()-r.getTime())/1e3);if(e==="relative")return s<60?"刚刚":s<3600?`${Math.floor(s/60)}分钟前`:s<86400?`${Math.floor(s/3600)}小时前`:s<604800?`${Math.floor(s/86400)}天前`:s<2592e3?`${Math.floor(s/604800)}周前`:s<31536e3?`${Math.floor(s/2592e3)}个月前`:`${Math.floor(s/31536e3)}年前`;const n=g=>g.toString().padStart(2,"0"),o=r.getFullYear(),a=n(r.getMonth()+1),i=n(r.getDate()),f=n(r.getHours()),p=n(r.getMinutes());return e==="date"?`${o}-${a}-${i}`:`${o}-${a}-${i} ${f}:${p}`},l=t=>{if(!t||typeof t!="object"||Array.isArray(t))return"";const e=[],r=(c,s="")=>{for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n)){const o=c[n],a=s?`${s}[${n}]`:n;if(o==null)continue;typeof o=="object"&&!Array.isArray(o)?r(o,a):Array.isArray(o)?o.forEach((i,f)=>{typeof i=="object"&&i!==null?r(i,`${a}[${f}]`):e.push(`${encodeURIComponent(`${a}[${f}]`)}=${encodeURIComponent(String(i))}`)}):e.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(o))}`)}};return r(t),e.length?`?${e.join("&")}`:""},w=async()=>u("/categories/with-count"),b=async()=>{const t=l({sort:["name:asc"],populate:{}});return u("/tags"+t)},M=async t=>{const e=l({categorySlug:t});return u("/post/top-recommended"+e)},S=async t=>{const e=l({categorySlug:t});return u("/post/news-5"+e)},U=async(t=1,e,r)=>{const c=l({pagination:{page:t,pageSize:3},tagSlug:e,categorySlug:r});return u("/post/except-top-recommended-all"+c)},v=async t=>{const e=l({filters:{slug:{$eq:t},publishedAt:{$notNull:!0}},populate:{cover:!0,category:!0,tags:!0}});return u("/posts"+e)},C=async t=>{const e=l({slug:t});return y("/post/increment-preview"+e)};export{b as a,M as b,S as c,m as d,U as e,A as f,w as g,v as h,C as u};
